!function(){var a=jQuery,b=function(){return this.scrollTop=a(window).scrollTop(),this.previousScroll=null,this.init()};b.prototype.init=function(){return this.enableMobileDropdowns(),this.stickyNavEl=a(".sticky-nav-holder"),this.mainEl=a("#main"),this.stickyNavWaypointOpts={offset:a("#wpadminbar").height()+parseInt(this.mainEl.css("marginTop"))},this.bindStickyNavEvents(),this.responsiveNavigation(),this},b.prototype.enableMobileDropdowns=function(){if(Modernizr.touch){var b=/Mobile\/.+Safari/.test(navigator.userAgent)?"touchstart":"click",c=!1;a("ul.nav").on(b+".largo","li",function(b){var e=a(b.currentTarget);return e.hasClass("dropdown")?void(e.is(".open")?a(b.target).is("b.caret")&&(e.removeClass("open"),c=!1,b.preventDefault(),b.stopPropagation()):(d(),e.addClass("open"),c=e,b.preventDefault(),b.stopPropagation())):(window.location.href=e.find("a").attr("href"),b.preventDefault(),b.stopPropagation(),!1)});var d=function(){c&&(c.removeClass("open"),c=!1)};a("body").on(b,d)}},b.prototype.bindStickyNavEvents=function(){this.mainEl.length&&(this.stickyNavInit(),a(window).on("resize",this.stickyNavResizeCallback.bind(this)),a(window).on("scroll",this.stickyNavScrollCallback.bind(this)))},b.prototype.stickyNavInit=function(){a(window).width()<=768&&this.stickyNavEl.addClass("show");var b=a(".sticky-nav-wrapper");b.length&&b.height(this.stickyNavEl.outerHeight())},b.prototype.stickyNavResizeCallback=function(){a(window).width()<=768?this.stickyNavEl.addClass("show"):a(window).scrollTop()<=this.mainEl.offset().top&&this.stickyNavEl.removeClass("show")},b.prototype.stickyNavScrollCallback=function(b){var c,d,e=this.scrollDirection();return a(window).width()<=768?!1:a(window).scrollTop()<=this.mainEl.offset().top?(this.stickyNavEl.removeClass("show"),void clearTimeout(this.scrollTimeout)):void(this.previousScroll!=e&&(clearTimeout(this.scrollTimeout),"up"==e?(c=this.stickyNavEl.addClass.bind(this.stickyNavEl,"show"),d=250):"down"==e&&(c=this.stickyNavEl.removeClass.bind(this.stickyNavEl,"show"),d=500),this.scrollTimeout=setTimeout(c,d),this.previousScroll=e))},b.prototype.scrollDirection=function(){var b,c=a(window).scrollTop();return b=c>this.scrollTop?"down":"up",this.scrollTop=c,b},b.prototype.responsiveNavigation=function(){a(".navbar .toggle-nav-bar").each(function(){var b=a(this),c=b.closest(".navbar");b.on("touchstart.toggleNav",function(){b.off("click.toggleNav"),c.toggleClass("open"),c.hasClass("open")||c.find(".nav-shelf li.open").removeClass("open")}),b.on("click.toggleNav",function(){c.toggleClass("open")}),c.on("touchstart.toggleNav click.toggleNav",".nav-shelf .caret",function(d){if("none"!=b.css("display")){"touchstart"==d.type&&c.off("click.toggleNav",".nav-shelf .dropdown-toggle");var e=a(d.target).closest("li");e.hasClass("open")||c.find(".nav-shelf li.open").removeClass("open"),e.toggleClass("open"),d.preventDefault()}})})},"undefined"==typeof window.LargoNavigation&&(window.LargoNavigation=b),a(document).ready(function(){new b})}();